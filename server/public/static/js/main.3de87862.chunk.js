/*! For license information please see main.3de87862.chunk.js.LICENSE.txt */
(this["webpackJsonpnew-app-client"]=this["webpackJsonpnew-app-client"]||[]).push([[0],{45:function(e,t,a){},71:function(e,t,a){},73:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),s=a(16),r=a.n(s),i=(a(45),a(2)),l=a(4),o=a(3),j=a(19),u=a(0),d=["exact","to","path","component"],b=function(e){var t=e.exact,a=e.to,c=e.path,n=e.component,s=Object(j.a)(e,d),r=n;return Object(u.jsx)(o.b,{exact:t,path:c||a,render:function(e){return Object(u.jsx)(r,Object(i.a)(Object(i.a)({},s),e))}})},h="/auth/login",m=["user","exact","to","path","component"],O=function(e){var t=e.user,a=e.exact,c=e.to,n=e.path,s=e.component,r=Object(j.a)(e,m),l=s;return t?Object(u.jsx)(o.b,{exact:a,path:n||c,render:function(e){return Object(u.jsx)(l,Object(i.a)(Object(i.a)(Object(i.a)({},r),e),{},{user:t}))}}):Object(u.jsx)(o.a,{to:h})},p=a(11),x=(a(52),"access_token"),g=(" "[0].toUpperCase()," ".slice(1).toLowerCase(),a(8)),v=a.n(g);function f(e){return{status:!1,errorMessage:"Internal server error. Please check your server"}}function N(e){return{status:!0,data:e.data}}var y=v.a.create({baseURL:"".concat("https://starsandstars.herokuapp.com/api","/auth")});var S=a(6),w=(a(71),a.p+"static/media/logo starsandstarstrimmed.eedb3e83.gif"),C=function(e){return Object(u.jsxs)("nav",{children:[Object(u.jsx)(S.b,{to:"/",className:"nav__projectName",children:Object(u.jsx)("img",{className:"logo",src:w,alt:""})}),Object(u.jsx)("div",{className:"nav__authLinks",children:e.user?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(S.b,{to:"/myconstellation",className:"authLink3",children:"My Constellation"}),Object(u.jsx)("button",{className:"nav-logoutbtn",onClick:e.handleLogout,children:"Logout"})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(S.b,{to:"/auth/signup",className:"authLink1",children:"Sign Up"}),Object(u.jsx)(S.b,{to:h,className:"authLink2",children:"Log In"})]})})]})},k=a(25),E=a.n(k),P=a(38),A=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)([]),r=Object(l.a)(s,2),i=r[0],o=r[1];Object(c.useEffect)((function(){var e=function(){var e=Object(P.a)(E.a.mark((function e(){var t,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://en.wikipedia.org/w/api.php",{params:{action:"query",list:"search",origin:"*",format:"json",srsearch:a}});case 2:t=e.sent,c=t.data,o(c.query.search);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(!a||i.length){var t=setTimeout((function(){a&&e()}),500);return function(){clearTimeout(t)}}e()}),[a]);var j=i.slice(0,2).map((function(e){return Object(u.jsxs)("div",{className:"item",children:[Object(u.jsx)("div",{className:"content",children:Object(u.jsx)("div",{className:"header",children:e.title})}),Object(u.jsx)("span",{dangerouslySetInnerHTML:{__html:e.snippet}})]},e.pageid)}));return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"container-1",children:[Object(u.jsx)("label",{children:"Search Term On Wikipedia"}),Object(u.jsx)("input",{className:"input",value:a,onChange:function(e){return n(e.target.value)}}),Object(u.jsx)("button",{className:"form-btn",onClick:function(){o([]),n("")},children:"Clear"})]}),Object(u.jsx)("div",{className:"ui-list",children:j})]})};function L(e){var t=e.data;return Object(u.jsxs)("div",{children:[t&&Object(u.jsxs)("div",{className:"img-detail",children:[Object(u.jsx)("br",{}),Object(u.jsx)("div",{className:"detail-title",children:Object(u.jsx)("p",{className:"detail-title",children:t.title})}),Object(u.jsx)("div",{className:"img-container",children:Object(u.jsx)("img",{className:"header-pic",src:t.hdurl,alt:"today-img"})}),Object(u.jsx)("div",{className:"detail-line-1",children:Object(u.jsx)("p",{className:"detail-explanation",children:t.explanation})}),Object(u.jsx)("div",{className:"detail-line-2",children:Object(u.jsxs)("p",{className:"detail-tagline",children:["Photo taken on ",t.date]})})]}),Object(u.jsx)(A,{})]})}function F(e){return{status:!1,errorMessage:"Internal server error. Please check your server"}}function I(e){return{status:!0,data:e.data}}var _=v.a.create({baseURL:"".concat("https://starsandstars.herokuapp.com/api","/favorites")});function T(e,t){return _.put("/".concat(e),t).then(I).catch(F)}function D(e){var t,a=e.data;return console.log(a,"linea 11"),e.user&&(t=e.user._id),console.log(t),Object(u.jsx)("div",{children:Object(u.jsx)("button",{className:"new-btn",onClick:function(){T(t,a).then((function(e){Object(p.b)("You added it!"),console.log(e)}))},children:"Add to My Constellation"})})}var U=function(e){var t=e.data,a=e.user;return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:" A STAR, EVERYDAY "}),t&&Object(u.jsxs)("div",{className:"header",children:[Object(u.jsx)("div",{className:"img-container",children:Object(u.jsx)("img",{className:"header-pic",src:"".concat(t.hdurl),alt:"pic of the day"})}),Object(u.jsx)("br",{}),Object(u.jsx)(S.b,{className:"details-link",to:"/daily-details",children:" See Details "})]}),a&&Object(u.jsx)(D,{data:t,user:a})]})},Y=(a(73),a(13)),q=a(17);a(22);function M(e){var t=e.data,a=t.hdurl,n=t.url,s=t.title,r=t.explanation,o=t.date,j=e.user,d={},b=Object(c.useState)(d),h=Object(l.a)(b,2),m=h[0],O=h[1];function x(e){O(Object(i.a)(Object(i.a)({},m),{},Object(Y.a)({},e.target.name,e.target.value)))}return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"detail-container",children:[Object(u.jsx)("div",{className:"detail-title",children:Object(u.jsx)("p",{children:s})}),Object(u.jsx)("div",{children:Object(u.jsx)(q.a,{overlayBgColorEnd:"rgba(0, 0, 0, 0.75)",overlayBgColorStart:"rgba(0, 0, 0, 0)",children:Object(u.jsx)("img",{className:"detail-img",src:n,alt:"card-detail-img"})})}),Object(u.jsx)("br",{}),Object(u.jsx)("div",{className:"detail-explanation",children:Object(u.jsx)("p",{children:r})}),Object(u.jsx)("br",{}),Object(u.jsx)("div",{className:"detail-date",children:Object(u.jsxs)("p",{className:"detail-tagline",children:["Photo taken on ",o]})}),Object(u.jsx)("br",{})]}),j&&Object(u.jsx)("div",{className:"email-container",children:Object(u.jsxs)("form",{className:"form-stars",onSubmit:function(e){e.preventDefault(),v.a.post("http://localhost:5005/api/favorites/send-star",Object(i.a)(Object(i.a)({},m),{},{hdurl:a,url:n})).then((function(e){return O(d)})).catch((function(e){return console.log(e)})),Object(p.b)("You have sent a star!")},children:[Object(u.jsxs)("div",{className:"email-space",children:[Object(u.jsx)("label",{htmlFor:"email",children:"Email"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{value:m.email,type:"email",name:"email",id:"email",onChange:x})]}),Object(u.jsxs)("div",{className:"message-space",children:[Object(u.jsx)("label",{htmlFor:"message",children:"Message"}),Object(u.jsx)("br",{}),Object(u.jsx)("textarea",{value:m.message,type:"text",name:"message",id:"message",onChange:x})]}),Object(u.jsx)("button",{className:"form-btn",type:"submit",children:"Send a Star"})]})}),Object(u.jsx)(A,{})]})}function B(e){var t,a=e.selectedPic;return e.user&&(t=e.user._id),console.log(t),Object(u.jsx)("div",{children:Object(u.jsx)("button",{className:"constellation-btn",onClick:function(){T(t,a).then((function(e){Object(p.b)("You added it!"),console.log(e)}))},children:"Add to My Constellation"})})}var H=function(e){var t=e.data,a=e.setSelectedPic,c=e.user,n=t.filter((function(e){return!e.url.includes("youtube")&&!e.url.includes("vimeo")&&!e.url.includes("ustream")}));return Object(u.jsx)("div",{className:"gallery-container",children:n.map((function(e){return Object(u.jsxs)("div",{className:"gallery-div",children:[Object(u.jsx)(q.a,{overlayBgColorEnd:"rgba(0, 0, 0, 0.75)",overlayBgColorStart:"rgba(0, 0, 0, 0)",children:Object(u.jsx)("img",{className:"gallery-img",src:e.url,alt:"card-detail-img"})}),Object(u.jsx)(S.b,{className:"details-link",to:"/details",onClick:function(){return a(e)},children:Object(u.jsx)("p",{children:"See details"})}),c&&Object(u.jsx)(B,{selectedPic:e,user:c})]})}))})};var R=function(e){var t=e.user,a={name:"",comment:""},n=Object(c.useState)(a),s=Object(l.a)(n,2),r=s[0],o=s[1];function j(e){var t=e.target,a=t.name,c=t.value;o(Object(i.a)(Object(i.a)({},r),{},Object(Y.a)({},a,c)))}return Object(u.jsx)("div",{children:Object(u.jsxs)("form",{className:"form-stars",onSubmit:function(e){e.preventDefault();var c=r.name,n=r.comment;v.a.post("http://localhost:5005/api/suggestions",{name:c,comment:n,user:t._id}).then(o(a)).catch((function(e){return console.log(e)}))},children:[Object(u.jsx)("input",{type:"text",name:"name",value:r.name,onChange:function(e){return j(e)},placeholder:"your name here"}),Object(u.jsx)("textarea",{name:"comment",value:r.comment,onChange:function(e){return j(e)},placeholder:"your suggestion here"}),Object(u.jsx)("button",{className:"form-btn",type:"submit",value:"Submit",children:"Send a Suggestion"})]})})},G=function(e){return Object(u.jsx)("footer",{})};var W=function(e){var t=e.dailyPic,a=e.setSelectedPic,c=e.latestPicsList,n=e.user;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"header-div",children:Object(u.jsx)(U,{data:t,user:n})}),Object(u.jsx)("div",{className:"gallery-container",children:Object(u.jsx)(H,{data:c,setSelectedPic:a,user:n})}),n&&Object(u.jsx)(R,{user:n}),Object(u.jsx)(G,{})]})};a(78);var z=function(e){var t=Object(c.useState)({username:"",email:"",password:""}),a=Object(l.a)(t,2),n=a[0],s=a[1],r=function(e){var t=e.target,a=t.name,c=t.value;s(Object(i.a)(Object(i.a)({},n),{},Object(Y.a)({},a,c)))};return Object(u.jsx)("div",{className:"login",children:Object(u.jsxs)("div",{className:"login-container",children:[Object(u.jsx)("h1",{children:"Sign Up"}),Object(u.jsxs)("form",{onSubmit:function(t){t.preventDefault(),function(e){return y.post("/signup",e).then(N).catch(f)}({username:n.username,password:n.password,email:n.email}).then((function(t){console.log(t),t.data?(localStorage.setItem(x,t.data.accessToken),e.authenticate(t.data.user),e.history.push("/")):console.log(t.message)}))},className:"auth__form",children:[Object(u.jsxs)("div",{className:"signup-username-space",children:[Object(u.jsx)("label",{htmlFor:"input-username",children:"Username"}),Object(u.jsx)("input",{id:"input-username",type:"text",name:"username",placeholder:"Username",value:n.username,onChange:r,required:!0})]}),Object(u.jsxs)("div",{className:"signup-email-space",children:[Object(u.jsx)("label",{htmlFor:"input-username",children:"Email"}),Object(u.jsx)("input",{id:"input-email",type:"email",name:"email",placeholder:"Your Email --\x3e example@email.com",value:n.email,onChange:r,required:!0})]}),Object(u.jsxs)("div",{className:"signup-password-space",children:[Object(u.jsx)("label",{htmlFor:"input-password",children:"Password"}),Object(u.jsx)("input",{id:"input-password",type:"password",name:"password",placeholder:"Password (min 8 characters)",value:n.password,onChange:r,required:!0,minLength:"8"})]}),Object(u.jsx)("button",{className:"form-btn",type:"submit",children:"Submit"})]})]})})};var J=function(e){var t=e.authenticate,a=Object(c.useState)({username:"",password:""}),n=Object(l.a)(a,2),s=n[0],r=n[1],o=function(e){var t=e.target,a=t.name,c=t.value;r(Object(i.a)(Object(i.a)({},s),{},Object(Y.a)({},a,c)))};return Object(u.jsx)("div",{className:"login",children:Object(u.jsxs)("div",{className:"login-container",children:[Object(u.jsx)("h1",{children:"Log In"}),Object(u.jsx)("br",{}),Object(u.jsxs)("form",{onSubmit:function(a){a.preventDefault(),function(e){return y.post("/login",e).then(N).catch(f)}({username:s.username,password:s.password}).then((function(a){a.data?(localStorage.setItem(x,a.data.accessToken),t(a.data.user),e.history.push("/")):(console.log("error"),Object(p.b)("Your credentials are invalid"))}))},className:"signup__form",children:[Object(u.jsxs)("div",{className:"username-space",children:[Object(u.jsx)("label",{htmlFor:"input-username",children:"Username"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{id:"input-username",type:"text",name:"username",placeholder:"Username",value:s.username,onChange:o,required:!0})]}),Object(u.jsxs)("div",{className:"password-space",children:[Object(u.jsx)("label",{htmlFor:"input-password",children:"Password"}),Object(u.jsx)("input",{id:"input-password",type:"password",name:"password",placeholder:"Password",value:s.password,onChange:o,required:!0,minLength:"8"})]}),Object(u.jsx)("button",{className:"form-btn",type:"submit",children:"Submit"})]})]})})},X=function(){return Object(u.jsx)("div",{children:Object(u.jsx)("h1",{children:"This page is hyper protected!"})})};function Z(e){var t=Object(c.useState)([]),a=Object(l.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)([]),i=Object(l.a)(r,2),o=(i[0],i[1],e.setSelectedPic),j=null;function d(){(function(e){return _.get("/".concat(e)).then(I).catch(F)})(j).then((function(e){var t=e.data;s(t)}))}function b(e){(function(e,t){return _.delete("/".concat(e,"/").concat(t)).then(I).catch(F)})(j,e).then((function(e){return d()})),Object(p.b)("You have deleted the picture")}return e.user&&(j=e.user._id),Object(c.useEffect)((function(){d()}),[]),Object(u.jsxs)("div",{className:"login",children:[Object(u.jsx)("h1",{children:"Welcome to your Constellation!"}),Object(u.jsx)("div",{className:"gallery-container",children:n.map((function(e){return Object(u.jsxs)("div",{className:"gallery-div",children:[Object(u.jsx)(q.a,{overlayBgColorEnd:"rgba(0, 0, 0, 0.75)",overlayBgColorStart:"rgba(0, 0, 0, 0)",children:Object(u.jsx)("img",{className:"gallery-img",src:e.hdurl,alt:"card-detail-img"})}),Object(u.jsx)("div",{children:Object(u.jsx)("p",{children:e.title})}),Object(u.jsx)(S.b,{to:"/details",onClick:function(){return o(e)},children:Object(u.jsx)("p",{children:"See details and Send a Star"})}),Object(u.jsx)("button",{className:"new-btn",onClick:function(){return b(e.date)},children:"Delete"})]},e.url)}))})]})}var V=function(){var e=Object(c.useState)(null),t=Object(l.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)({}),r=Object(l.a)(s,2),j=r[0],d=r[1],h=Object(c.useState)([]),m=Object(l.a)(h,2),g=m[0],S=m[1],w=Object(c.useState)({}),k=Object(l.a)(w,2),E=k[0],P=k[1];Object(c.useEffect)((function(){v.a.get("https://api.nasa.gov/planetary/apod?api_key=4nNodO7eptWEC8F8NiG9XcA3x5A4AYqADrniZGFu").then((function(e){d(e.data)}))}),[]),Object(c.useEffect)((function(){v.a.get("https://api.nasa.gov/planetary/apod?api_key=4nNodO7eptWEC8F8NiG9XcA3x5A4AYqADrniZGFu&count=50").then((function(e){S(e.data)}))}),[]),Object(c.useEffect)((function(){var e=localStorage.getItem(x);e||n(null),y.get("/session",{headers:{Authorization:localStorage.getItem(x)}}).then(N).catch(f).then((function(e){e.data?n(e.data.user):(console.log("RES IN CASE OF FAILURE",e),n(null))}))}),[]);var A=function(e){n(e)};return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(C,{handleLogout:function(){var e=localStorage.getItem(x);e||n(null),y.delete("/logout",{headers:{Authorization:localStorage.getItem(x)}}).then(N).catch(f).then((function(e){e.status||console.error("\ud83d\udca1 SOMETHING HAPPENED THAT HAS TO DEALT WITH",e),localStorage.removeItem(x),n(null)}))},user:a}),Object(u.jsx)(p.a,{})," \u200b",Object(u.jsxs)(o.d,{children:[Object(u.jsx)(O,{exact:!0,path:"/myconstellation",component:Z,user:a,setSelectedPic:P,selectedPic:E}),Object(u.jsx)(o.b,{exact:!0,path:"/details",render:function(e){return Object(u.jsx)(M,Object(i.a)(Object(i.a)({},e),{},{data:E,user:a}))}}),Object(u.jsx)(b,{exact:!0,path:"/daily-details",component:L,data:j}),Object(u.jsx)(b,{exact:!0,path:"/",component:W,dailyPic:j,setSelectedPic:P,latestPicsList:g,user:a}),Object(u.jsx)(b,{exact:!0,path:"/auth/signup",authenticate:A,component:z}),Object(u.jsx)(b,{exact:!0,path:"/auth/login",authenticate:A,component:J}),Object(u.jsx)(O,{exact:!0,path:"/protected",component:X,user:a})]})]})};r.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(S.a,{children:Object(u.jsx)(V,{})})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.3de87862.chunk.js.map